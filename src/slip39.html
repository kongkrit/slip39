<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SLIP-39 Generator and Recovery (Offline)</title>
  <link rel="icon" href="icons/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <h1>SLIP-39 Generator and Recovery</h1>
    <div class="sub">No network needed. Runs entirely in your browser. Generates <b>SLIP-39</b> <i>M</i>-of-<i>N</i> <b>Master Secret</b> shares (10 bits/word) and recovers secrets from <i>M</i> mnemonics. An optional <b>passphrase</b> is supported and must be the <u>same</u> for both generation and recovery.</div>
	<div id="integrity-pill" class="pill danger" style="display:none">Integrity compromised â€“ reload the page</div>
  </header>
  <main class="grid">
      <section id="create" class="card">
        <h2>Create Shares</h2>
        <p class="note-text">Create a new secret or split an existing one into mnemonic shares.<br>
           <a href="#combine">See the 'Combine' section below to combine existing shares.</a>
        </p>

        <h3>Secret</h3>
        <p>Securely generate random master secret with strength of:</p>
        <div class="row">
          <button id="strength-128" class="generate" data-strength="128">128 bits</button>
          <button id="strength-160" class="generate" data-strength="160">160 bits</button>
          <button id="strength-192" class="generate" data-strength="192">192 bits</button>
          <button id="strength-224" class="generate" data-strength="224">224 bits</button>
          <button id="strength-256" class="generate" data-strength="256">256 bits</button>
        </div>

        <label for="master-secret-hex">Master Secret</label>
        <input id="master-secret-hex" type="text" placeholder="hex string eg 0123456789abcdef0123456789ABCDEF">
        <p class="err" id="master-secret-error"></p>

        <label for="passphrase">Passphrase (optional)</label>
        <input id="passphrase" type="text" placeholder="eg MySecretPassphrase">

        <h3>Groups and Members</h3>

		<div class="shares-threshold-row">
			<div class="field">
				<div class="number-control">
					<label for="total-shares">Total Shares:&nbsp</label>
					<input id="total-shares" type="number" value="3" readonly>
					<button type="button" class="decrement" data-target="total-shares">-</button>
					<button type="button" class="increment" data-target="total-shares">+</button>
				</div>
				<p id="total-shares-error" class="err"></p>
				<p class="note">The number of shares to generate.</p>
			</div>
			<div class="field">
				<div class="number-control">
					<label for="threshold">Threshold:&nbsp</label>
					<input id="threshold" type="number" value="2" readonly>
					<button type="button" class="decrement" data-target="threshold">-</button>
					<button type="button" class="increment" data-target="threshold">+</button>
				</div>
				<p id="threshold-error" class="err"></p>
				<p class="note">The number of shares needed to reconstruct the master secret.</p>
			</div>
		</div>

        <h3>Shares</h3>

		<div id="mnemonic-block">
			<label for="new-shares">Mnemonics</label>
			<textarea id="new-shares" rows="10" readonly placeholder="Mnemonic Shares will be shown here"></textarea>
		</div>
		<p></p>
		<div id="base58-block">
			<label for="new-shares-base58">Base-58</label>
			<textarea id="new-shares-base58" rows="10" readonly placeholder="Base-58 Shares will be shown here"></textarea>
		</div>
      </section>

      <section id="combine" class="card">
        <h2>Combine Shares</h2>
        <div id="combine-modes">
          <p>Recover a master secret from a set of:</p>
          <div class="btn-group" role="group" aria-label="Combine mode">
            <input type="radio" class="btn-check" name="combine-mode" id="mode-mnemonics" value="mnemonics" checked>
            <label class="btn" for="mode-mnemonics">Mnemonics</label>
          
            <input type="radio" class="btn-check" name="combine-mode" id="mode-base58" value="base58">
            <label class="btn" for="mode-base58">Base-58</label>
          </div>
        </div>

        <label id="decode-mode" for="existing-shares">Mnemonics Input</label>
        <textarea id="existing-shares" rows="10" placeholder="Enter your mnemonic shares here, one per line"></textarea>
        <p class="err" id="reconstructed-error">&nbsp</p>

		<div id="decoded-block">
			<label id="convert-to" for="decoded-mnemonics">Converted to Base-58</label>
			<textarea id="decoded-mnemonics" readonly rows="10" placeholder="Decoded mnemonics appear here."></textarea>
		</div>

        <label for="decrypter">Passphrase</label>
        <input id="decrypter" type="text">

        <label for="reconstructed-hex">Master Secret</label>
        <input id="reconstructed-hex" type="text" readonly>
      </section>
  </main>

  <script src="js/slip39-libs.js"></script>
  <script src="js/wordlist.js"></script>
  <script src="js/conversion-lib.js"></script>
  <script src="js/index.js"></script>
  <script src="js/integrity-check.js"></script>
</body>
</html>
