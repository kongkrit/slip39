:root {
  /* color scheme */
  color-scheme: light dark;
  --header-bg: rgba(10,10,12,0.7);
  --bg: #0b0b0c;
  --fg: #e8e8ea;
  --muted: #9ea3aa;
  --accent: #6ea8fe;
  --warn: #ffb86b;
  --err: #ff6b6b;
  --ok: #7bd88f;
  --card: #141417;
  --button-inactive-bg: var(--card);
  --button-hover-bg: #232a34;
  --button-hover-border: #3a3f47;
  --focus-glow: rgba(255, 255, 255, 0.25);
/*  --button-checked-border: #525863; */
  --button-checked-border: var(--button-hover-border);
  --button-checked-bg: var(--button-checked-border);
  --input: #0f1115;
  --input-focused: #1a1a1a;
  --border: #2a2e35;
  --pill-accent-border: #375a9e;
  --pill-accent-bg: #0e1a33;
  --pill-danger-border: #5a1d1d;
  --pill-danger-bg: #1a0e0e;
  
  /* a11y */
  --outline-color: color-mix(in oklab, var(--accent), var(--bg) 50%);

  /* layout & rhythm */
  --radius: 6px;
  --radius-lg: 8px;
  --radius-pill: 999px; /* full pill shape */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --shadow-elev: 0 10px 26px rgba(0,0,0,.3);

  /* typography */
  --ff-sans: ui-sans-serif, sans-serif;
  --ff-mono: ui-monospace, monospace;
  --fz-xs: 12px;
  --fz-sm: 13px;
  --fz-base: 14px;
}

* { box-sizing: border-box; }

html {
  font-size: 62.5%; /* 1rem = 10px */
}

body {
  margin: 0;
  font-family: var(--ff-sans);
  font-size: var(--fz-base);
  line-height: 1.5;
  background: var(--bg);
  color: var(--fg);
}

/* ---- typography ---- */
h1 {
  margin: 0 0 var(--space-2) 0;
  font-size: clamp(18px, 16px + 0.5vw, 22px);
}

/* h2.note-text { margin-block-end: 0px; } */
h2.summary-text {
  display: flex;
  flex-direction: row;
  align-items: baseline; /* keep text and pill on the same line */
  gap: .5em;
  white-space: nowrap;
  line-height: 1.2;
  margin-block-end: 4px;
}

h2.summary-text span {
  flex: 0 0 auto;       /* let pill shrink/grow flexibly */
  align-self: center;        /* center pill box against the line */
  position: relative;
  top: -0.1em;
}

h3 { margin-block: 8px 0; }

.sub,
.note,
.note-text,
.tiny,
.footer,
.kvs div.key {
  color: var(--muted);
}

.sub { font-size: var(--fz-xs); }
.note { font-size: var(--fz-xs); }
.note-text { font-size: var(--fz-sm); line-height: 1.4; }
p.note-text { line-height: 1.4; }
.tiny { font-size: 11px; }
.footer { font-size: var(--fz-xs); margin-block-start: 10px; }

/* ---- layout ---- */
main {
  padding: var(--space-2);
  max-width: 1600px;
  margin-inline: auto;
}

.grid {
  display: grid;
  gap: var(--space-3);
  grid-template-columns: 1fr;
}
@media (min-width: 1150px) {
  .grid { grid-template-columns: 1fr 1fr; }
}

.cols { display: grid; gap: 10px; grid-template-columns: repeat(2, 1fr); }

.row { display: flex; gap: var(--space-2); align-items: center; flex-wrap: wrap; }

.sp { block-size: 6px; }
.hr { border-block-start: 1px dashed var(--border); margin-block: 10px; }

/* ---- header ---- */
header {
/*  position: sticky; */
  top: 0;
  padding-block: 20px;
  padding-inline: 16px;
  border-block-end: 1px solid var(--border);
  background: var(--header-bg);
  backdrop-filter: blur(6px);
}

/* ---- text & links ---- */
p { margin-block: 0 var(--space-2); }
a { color: var(--accent); text-decoration: none; }
label { display: block; margin-block: 6px; }

/* ---- cards ---- */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: var(--space-2);
  box-shadow: var(--shadow-elev);
}

.card h2 {
  margin-block: 4px var(--space-2);
  font-size: clamp(20px, 17.6px + 0.6vw, 24px);
}
.card h2,
.card h3,
.card p,
.card label {
  padding-inline-start: 4px; /* visual alignment */
  padding-inline-end: 0px;
}
.card .number-control label {
  display: inline;      /* don't stretch full width */
  margin: 0;
  padding: 0 0 0 4px;
  max-width: max-content;  /* ensure it hugs content */
}

/* ---- cards summary ---- */
summary {
  cursor: pointer;
  list-style: none;
}
.summary-text {
  display: flex;
  flex-direction: column;
}

/* --- summary-text h3 and p have minimal vertical pad --- */
.summary-text > h2,
.summary-text > p {
  margin-block: 0em;
}

summary::-webkit-details-marker { display: none; }

.mono { font-family: var(--ff-mono); }

.ok { color: var(--ok); }
.warn { color: var(--warn); }
.err {
  margin-block: 6px;
  font-size: var(--fz-xs);
  line-height: 1.3;
  color: var(--err);
}
.err:empty { display: none; }

/* ---- form fields ---- */
textarea,
input[type="text"],
input[type="password"] {
  inline-size: 100%;
  min-block-size: 120px;
  padding: 10px 12px;
  font-family: var(--ff-mono);
  font-size: var(--fz-base);
  background: var(--input);
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  resize: vertical;
}
textarea.small { min-block-size: 70px; }

#master-secret-hex,
#master-secret-b58,
#passphrase,
#decrypter,
#reconstructed-hex,
#reconstructed-b58 {
  block-size: 30px;    /* â‰ˆ 1.5em with 14px font */
  min-block-size: auto;
  resize: none;
}

/* input button on right */
.input-with-btn {
  display: flex;
  align-items: center;
}
.input-with-btn input {
  flex: 1;
  min-inline-size: 0; /* let it shrink */
}
.input-with-btn button {
  inline-size: 32px;
  block-size: 30px;
  padding: 0;
  margin-inline-start: 8px;
}
/* scale icons inside input buttons */
.input-with-btn button svg {
  inline-size: 1.4em;
  block-size: auto;
  vertical-align: middle;
  position: relative;
}

/* Focus state
   - slightly darker background
   - slightly brighter border
   - NO outline ring/glow */
textarea:focus,
input[type="text"]:focus,
input[type="password"]:focus {
  background-color: var(--input-focused);
  border-color: var(--button-hover-border);
}

/* ---- buttons ---- */
button {
  appearance: none;
  cursor: pointer;
  padding: 7px 12px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--button-inactive-bg);
  color: var(--fg);
  transition: transform .05s ease, background .2s ease, border .2s ease;
}
button:hover {
  background: var(--button-hover-bg);
  border-color: var(--button-hover-border);
}
button:active { transform: translateY(1px); }

/* --- pill styles --- */
.accent { border-color: var(--pill-accent-border); background: var(--pill-accent-bg); }
.danger { border-color: var(--pill-danger-border); background: var(--pill-danger-bg); }
.pill {
  padding: 4px 8px;
  border-radius: var(--radius-pill);
  border: 1px solid var(--border);
  font-size: var(--fz-xs);
  color: var(--muted);
}

/* ---- number control (stepper) ---- */
.number-control {
  display: inline-flex;
  align-items: center;
  border: none;
  border-radius: var(--radius);
  background: transparent;
  overflow: visible;
}
.number-control label {
  margin: 0;
  padding-inline-end: 0; /* small gap before input */
  display: inline-block;
}
.number-control .share-parameters-display {
  inline-size: 0px;
  max-inline-size: 0px;
  min-inline-size: 0px;
  padding: 0;
  border: none;
  background: transparent;
  font-family: var(--ff-mono);
  font-size: var(--fz-base);
  color: var(--fg);
  text-align: center;
  line-height: 28px; /* match control height */
  overflow: hidden;
}
.number-control button {
  inline-size: 30px;
  block-size: 30px;
  padding: 0;

  /* center the SVG precisely */
  display: flex;
  align-items: center;
  justify-content: center;

  /* keep your existing visuals/interaction */
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--button-inactive-bg);
  color: var(--fg);
  transition: transform .05s ease, background .2s ease, border .2s ease;
}
.number-control button:hover {
  background: var(--button-hover-bg);
  border-color: var(--button-hover-border);
}
.number-control button.increment svg,
.number-control button.decrement svg {
  inline-size: 1.4em;   /* adjust to taste */
  block-size: auto;
  display: block;        /* avoids baseline gaps */
  /* no vertical-align / position / transform needed */
}

.number-control button:active { transform: scale(.92); }
/* .number-control button.decrement { margin-inline-end: 10px; } */
.number-control button:first-of-type { border-inline-end: 1px solid var(--border); }
.number-control button:last-of-type  { border-inline-start: 1px solid var(--border); }

/* Hide default number input spinners */
.share-parameters-display::-webkit-inner-spin-button,
.share-parameters-display::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.share-parameters-display {
  -moz-appearance: textfield; /* Firefox */
}

/* fix stepper readout width */
.shares-threshold-row .number-control input#total-shares,
.shares-threshold-row .number-control input#threshold {
  flex: 0 0 auto;
  inline-size: 4ch;
  min-inline-size: 4ch;
  max-inline-size: 4ch;
  padding-inline: 0;
  text-align: center;
  text-indent: 0;
  font-variant-numeric: tabular-nums;
}

/* ---- special layouts ---- */
.shares-threshold-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.shares-threshold-row .field {
  flex: 1 1 200px;
  min-inline-size: 0;
}

.shares-threshold-row .field + .field {
  border-inline-start: 1px solid var(--border);
  padding-inline-start: 10px;
}
.shares-threshold-row label,
.shares-threshold-row input,
.shares-threshold-row p {
  display: block;
  inline-size: 100%;
}
@media (max-width: 489px) {
  .shares-threshold-row .field + .field {
    border-inline-start: none;
    padding-inline-start: 0;
  }
}

.kvs {
  display: grid;
  grid-template-columns: max-content 1fr;
  gap: 6px 10px;
  align-items: center;
}

/* ---- accessibility & motion ---- */

/* --- Bootstrap-style radio button group (plain CSS) --- */
.btn-group {
  display: inline-flex;
  border-radius: var(--radius);
/*s  overflow: hidden; /* clip rounded corners */
}

/* Robust, accessible "visually hidden" radio inputs */
.btn-check {
  position: absolute !important;
  inline-size: 1px;
  block-size: 1px;
  margin: -1px;
  border: 0;
  padding: 0;
  white-space: nowrap;
  clip-path: inset(50%);
  clip: rect(0 0 0 0);
  overflow: hidden;
}

/* distinct toggle buttons */
.btn-group { /* layout similar to the strength buttons row */
  display: flex;
  gap: var(--space-2);
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin: 0;
  padding: 4px 12px;
  min-inline-size: 12ch;
  line-height: 1.4;
  background: var(--button-inactive-bg);
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: var(--radius);  /* apply full rounding */
  cursor: pointer;
  user-select: none;
  transition: background .2s, border .2s, color .2s;
}

.btn:hover { background: var(--button-hover-bg); border-color: var(--button-hover-border); }

.btn-check:checked + .btn {
  background: var(--button-checked-bg);
  border-color: var(--button-checked-border);
  color: var(--fg);
}

:focus-visible {
  outline: 1px solid var(--outline-color);
  outline-offset: 0px;
}

@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; }

}
