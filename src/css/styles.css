:root {
  /* color scheme */
  color-scheme: light dark;
  --bg: #0b0b0c;
  --fg: #e8e8ea;
  --muted: #9ea3aa;
  --accent: #6ea8fe;
  --warn: #ffb86b;
  --err: #ff6b6b;
  --ok: #7bd88f;
  --card: #141417;
  --input: #0f1115;
  --border: #2a2e35;

  /* layout & rhythm */
  --radius: 12px;
  --radius-lg: 16px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --shadow-elev: 0 10px 26px rgba(0,0,0,.3);

  /* typography */
  --ff-sans: ui-sans-serif, sans-serif;
  --ff-mono: ui-monospace, monospace;
  --fz-xs: 12px;
  --fz-sm: 13px;
  --fz-base: 14px;
}

* { box-sizing: border-box; }

html {
  font-size: 62.5%; /* 1rem = 10px */
}

body {
  margin: 0;
  font-family: var(--ff-sans);
  font-size: var(--fz-base);
  line-height: 1.5;
  background: var(--bg);
  color: var(--fg);
}

/* ---- typography ---- */
h1 {
  margin: 0 0 var(--space-2) 0;
  font-size: clamp(18px, 16px + 0.5vw, 22px);
}

h3 { margin-block: 8px 0; }

.sub,
.note,
.note-text,
.tiny,
.footer,
.kvs div.key {
  color: var(--muted);
}

.sub { font-size: var(--fz-xs); }
.note { font-size: var(--fz-xs); }
.note-text { font-size: var(--fz-sm); line-height: 1.4; }
.tiny { font-size: 11px; }
.footer { font-size: var(--fz-xs); margin-block-start: 10px; }

/* ---- layout ---- */
main {
  padding: var(--space-4);
  max-width: 1600px;
  margin-inline: auto;
}

.grid {
  display: grid;
  gap: var(--space-4);
  grid-template-columns: 1fr;
}
@media (min-width: 1150px) {
  .grid { grid-template-columns: 1fr 1fr; }
}

.cols { display: grid; gap: 10px; grid-template-columns: repeat(2, 1fr); }

.row { display: flex; gap: var(--space-2); align-items: center; flex-wrap: wrap; }

.sp { block-size: 6px; }
.hr { border-block-start: 1px dashed var(--border); margin-block: 10px; }

/* ---- header ---- */
header {
  position: sticky;
  top: 0;
  padding-block: 20px;
  padding-inline: 16px;
  border-block-end: 1px solid var(--border);
  background: rgba(10,10,12,0.7);
  backdrop-filter: blur(6px);
}

/* ---- text & links ---- */
p { margin-block: 0 var(--space-2); }
a { color: var(--accent); text-decoration: none; }
label { display: block; margin-block: 6px; }

.mono { font-family: var(--ff-mono); }

.ok { color: var(--ok); }
.warn { color: var(--warn); }
.err {
  margin-block: 6px;
  font-size: var(--fz-xs);
  line-height: 1.3;
  color: var(--err);
}
.err:empty { display: none; }

/* ---- cards ---- */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 14px;
  box-shadow: var(--shadow-elev);
}

.card h2 {
  margin-block: 4px var(--space-2);
  font-size: clamp(20px, 17.6px + 0.6vw, 24px);
}
.card h2,
.card h3,
.card p,
.card label {
  padding-inline-start: 4px; /* visual alignment */
  padding-inline-end: 0px;
}
.card .number-control label {
  display: inline;      /* don't stretch full width */
  margin: 0;
  padding: 0 0 0 4px;
  max-width: max-content;  /* ensure it hugs content */
}

/* ---- form fields ---- */
textarea,
input[type="text"],
input[type="password"] {
  inline-size: 100%;
  min-block-size: 120px;
  padding: 10px 12px;
  font-family: var(--ff-mono);
  font-size: var(--fz-base);
  background: var(--input);
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  resize: vertical;
}
textarea.small { min-block-size: 70px; }

#master-secret-hex,
#master-secret-b58,
#passphrase,
#decrypter,
#reconstructed-hex,
#reconstructed-b58 {
  block-size: 30px;    /* â‰ˆ 1.5em with 14px font */
  min-block-size: auto;
  resize: none;
}

/* input button on right */
.input-with-btn {
  display: flex;
  align-items: center;
}
.input-with-btn input {
  flex: 1;
  min-inline-size: 0; /* let it shrink */
}
.input-with-btn button {
  inline-size: 32px;
  block-size: 30px;
  padding: 0;
  margin-inline-start: 8px;
}
/* scale icons inside input buttons */
.input-with-btn button svg {
  inline-size: 1.4em;  
  block-size: auto;
  vertical-align: middle; 
  position: relative;
}

/* Focus state
   - slightly darker background
   - slightly brighter border
   - NO outline ring/glow */
textarea:focus,
input[type="text"]:focus,
input[type="password"]:focus {
  background-color: #1a1a1a;        
  border-color: #3a3f47;
  color: #fff;
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.25); /* soft white glow */
  outline: none;
}

/* ---- buttons ---- */
button {
  appearance: none;
  cursor: pointer;
  padding: 7px 12px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: #0f1216;
  color: var(--fg);
  transition: transform .05s ease, background .2s ease, border .2s ease;
}
button:hover {
  background: #232a34;
  border-color: #3a3f47;
}
button:active { transform: translateY(1px); }
button:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--accent), white 10%);
  outline-offset: 2px;
}
.accent { border-color: #375a9e; background: #0e1a33; }
.danger { border-color: #5a1d1d; background: #1a0e0e; }
.pill {
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  font-size: var(--fz-xs);
  color: var(--muted);
}

/* ---- number control (stepper) ---- */
.number-control {
  display: inline-flex;
  align-items: center;
  border: none;
  border-radius: 0;
  background: transparent;
  overflow: hidden;
}
.number-control label {
  margin: 0;
  padding-inline-end: 0; /* small gap before input */
  display: inline-block;
}
.number-control input {
  inline-size: 0px;
  max-inline-size: 0px;
  min-inline-size: 0px;
  padding: 0;
  border: none;
  background: transparent;
  font-family: var(--ff-mono);
  font-size: var(--fz-base);
  color: var(--fg);
  text-align: center;
  line-height: 28px; /* match control height */
  outline: none;
  overflow: hidden;
}
.number-control button {
  inline-size: 30px;
  block-size: 30px;
  padding: 0;
  font-family: var(--ff-mono);
  font-size: 18px;
  font-weight: 400;
  line-height: 24px;
  text-align: center;
  transition: transform .05s ease, background .2s ease, border .2s ease;
}
.number-control button:active { transform: scale(.92); }
.number-control button.decrement { margin-inline-end: 10px; }
.number-control button:first-of-type { border-inline-end: 1px solid var(--border); }
.number-control button:last-of-type  { border-inline-start: 1px solid var(--border); }

/* Hide default number input spinners */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield; /* Firefox */
}

/* fix stepper readout width */
.shares-threshold-row .number-control input#total-shares,
.shares-threshold-row .number-control input#threshold {
  flex: 0 0 auto;
  inline-size: 4ch;
  min-inline-size: 4ch;
  max-inline-size: 4ch;
  padding-inline: 0;
  text-align: center;
  text-indent: 0;
  font-variant-numeric: tabular-nums;
}

/* ---- special layouts ---- */
.shares-threshold-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.shares-threshold-row .field {
  flex: 1 1 200px;
  min-inline-size: 0;
}

.shares-threshold-row .field + .field {
  border-inline-start: 1px solid var(--border);
  padding-inline-start: 10px;
}
.shares-threshold-row label,
.shares-threshold-row input,
.shares-threshold-row p {
  display: block;
  inline-size: 100%;
}
@media (max-width: 489px) {
  .shares-threshold-row .field + .field {
    border-inline-start: none;
    padding-inline-start: 0;
  }
}

.kvs {
  display: grid;
  grid-template-columns: max-content 1fr;
  gap: 6px 10px;
  align-items: center;
}

/* ---- accessibility & motion ---- */
/* Keep visible focus for links (keyboard nav),
   but remove the glowing ring from inputs to match old.css */
a:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--accent), white 10%);
  outline-offset: 2px;
}

/* --- Bootstrap-style radio button group (plain CSS) --- */
.btn-group {
  display: inline-flex;
  border-radius: var(--radius);
  overflow: hidden; /* clip rounded corners */
}

/* Robust, accessible "visually hidden" radio inputs */
.btn-check {
  position: absolute !important;
  inline-size: 1px;
  block-size: 1px;
  margin: -1px;
  border: 0;
  padding: 0;
  white-space: nowrap;
  clip-path: inset(50%);
  clip: rect(0 0 0 0);
  overflow: hidden;
}

/* distinct toggle buttons */
.btn-group { /* layout similar to the strength buttons row */
  display: flex;
  gap: var(--space-2);
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin: 0;
  padding: 4px 12px;
  min-inline-size: 12ch;
  line-height: 1.4;
  background: #0f1216;
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: var(--radius);  /* apply full rounding */
  cursor: pointer;
  user-select: none;
  transition: background .2s, border .2s, color .2s;
}

.btn:hover { background: #232a34; border-color: #3a3f47; }

.btn-check:checked + .btn {
  background: #525863;
  border-color: #525863;
  color: #fff;
}
.btn-check:focus-visible + .btn {
  outline: 2px solid color-mix(in oklab, var(--accent), white 15%);
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; }

}
